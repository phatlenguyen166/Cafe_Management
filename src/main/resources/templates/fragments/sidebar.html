<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <body>
    <aside
      th:fragment="sidebar"
      class="sidebar w-64 bg-white shadow-sm border-r border-purple-200 min-h-screen relative"
    >
      <!-- Logo/Brand -->
      <div class="p-4 border-b border-purple-200">
        <h2 class="text-xl font-bold text-purple-800">Café Manager</h2>
      </div>

      <!-- Navigation -->
      <nav class="p-4">
        <ul class="space-y-2">
          <!-- Trang chủ -->
          <li>
            <a
              href="/home"
              th:class="${activeTab == 'home'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline"
            >
              <i data-lucide="home" class="w-5 h-5"></i>
              <span>Trang chủ</span>
            </a>
          </li>

          <!-- Trang cá nhân -->
          <li>
            <a
              href="/profile"
              th:class="${activeTab == 'profile'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline"
            >
              <i data-lucide="user" class="w-5 h-5"></i>
              <span>Trang cá nhân</span>
            </a>
          </li>

          <!-- Quản lý nhân viên với submenu -->
          <li>
            <button
              onclick="toggleEmployeeMenu()"
              th:class="${activeTab == 'employees'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center justify-between' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center justify-between'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center justify-between"
            >
              <div class="flex items-center space-x-3">
                <i data-lucide="users" class="w-5 h-5"></i>
                <span>Quản lý nhân viên</span>
              </div>
              <i
                id="employee-chevron"
                data-lucide="chevron-right"
                class="w-4 h-4 transition-transform"
              ></i>
            </button>

            <!-- Submenu -->
            <ul id="employee-submenu" class="hidden ml-4 mt-2 space-y-1">
              <li>
                <a
                  href="/employees"
                  class="submenu-item block px-4 py-2 text-sm text-purple-600 hover:bg-purple-50 rounded-lg transition-colors flex items-center space-x-2"
                >
                  <i data-lucide="list" class="w-4 h-4"></i>
                  <span>Xem danh sách nhân viên</span>
                </a>
              </li>
              <li>
                <a
                  href="/employees/add"
                  class="submenu-item block px-4 py-2 text-sm text-purple-600 hover:bg-purple-50 rounded-lg transition-colors flex items-center space-x-2"
                >
                  <i data-lucide="user-plus" class="w-4 h-4"></i>
                  <span>Thêm nhân viên</span>
                </a>
              </li>
              <!-- <li>
                <a
                  href="/employees/search"
                  class="submenu-item block px-4 py-2 text-sm text-purple-600 hover:bg-purple-50 rounded-lg transition-colors flex items-center space-x-2"
                >
                  <i data-lucide="search" class="w-4 h-4"></i>
                  <span>Tìm kiếm</span>
                </a>
              </li> -->
            </ul>
          </li>

          <!-- Bán hàng -->
          <li>
            <a
              href="/sales"
              th:class="${activeTab == 'sales'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline"
            >
              <i data-lucide="shopping-cart" class="w-5 h-5"></i>
              <span>Bán hàng</span>
            </a>
          </li>

          <!-- thiết bị -->
          <li>
            <a
              href="/device"
              th:class="${activeTab == 'device'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline"
            >
              <i data-lucide="package" class="w-5 h-5"></i>
              <span>Thiết bị</span>
            </a>
          </li>

          <!-- Kho -->
          <li>
            <a
              href="/inventory"
              th:class="${activeTab == 'inventory'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline"
            >
              <i data-lucide="warehouse" class="w-5 h-5"></i>
              <span>Quản lý kho</span>
            </a>
          </li>

          <!-- Quản lý thực đơn - TAB MỚI -->
          <li>
            <a
              href="/menu"
              th:class="${activeTab == 'menu'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline"
            >
              <i data-lucide="chef-hat" class="w-5 h-5"></i>
              <span>Quản lý thực đơn</span>
            </a>
          </li>

          <!-- Marketing -->
          <li>
            <a
              href="/marketing"
              th:class="${activeTab == 'marketing'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline"
            >
              <i data-lucide="megaphone" class="w-5 h-5"></i>
              <span>Marketing</span>
            </a>
          </li>

          <!-- Quản lý ngân sách - TAB MỚI -->
          <li>
            <a
              href="/budget"
              th:class="${activeTab == 'budget'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline"
            >
              <i data-lucide="calculator" class="w-5 h-5"></i>
              <span>Quản lý ngân sách</span>
            </a>
          </li>

          <!-- Báo cáo -->
          <li>
            <a
              href="/reports"
              th:class="${activeTab == 'reports'} ? 'sidebar-item active bg-purple-200 w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline' : 'sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline'"
              class="sidebar-item w-full text-left px-4 py-3 text-purple-700 hover:bg-purple-100 rounded-lg transition-colors flex items-center space-x-3 no-underline"
            >
              <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
              <span>Báo cáo</span>
            </a>
          </li>
        </ul>
      </nav>

      <!-- About button at bottom -->
      <div class="absolute bottom-4 left-4 right-4">
        <a
          href="/about"
          th:class="${activeTab == 'about'} ? 'w-full px-4 py-3 text-purple-700 border border-purple-300 rounded-lg bg-purple-100 transition-colors flex items-center justify-center space-x-2 no-underline' : 'w-full px-4 py-3 text-purple-700 border border-purple-300 rounded-lg hover:bg-purple-100 transition-colors flex items-center justify-center space-x-2 no-underline'"
          class="w-full px-4 py-3 text-purple-700 border border-purple-300 rounded-lg hover:bg-purple-100 transition-colors flex items-center justify-center space-x-2 no-underline"
        >
          <i data-lucide="info" class="w-5 h-5"></i>
          <span>Giới thiệu</span>
        </a>
      </div>

      <!-- Logout button -->
      <div class="absolute bottom-20 left-4 right-4">
        <a
          href="/logout"
          class="w-full px-4 py-3 text-red-700 border border-red-300 rounded-lg hover:bg-red-100 transition-colors flex items-center justify-center space-x-2 no-underline"
        >
          <i data-lucide="log-out" class="w-5 h-5"></i>
          <span>Đăng xuất</span>
        </a>
      </div>
    </aside>

    <script>
      function toggleEmployeeMenu() {
        const submenu = document.getElementById("employee-submenu");
        const chevron = document.getElementById("employee-chevron");
        submenu.classList.toggle("hidden");
        chevron.classList.toggle("rotate-90");
      }
    </script>
  </body>
</html>
